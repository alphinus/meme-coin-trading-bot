---
phase: 10-client-i18n-coverage
plan: 02
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - client/src/components/AiTeamMember.tsx
  - client/src/components/AiOverrideMenu.tsx
  - client/src/components/AiModelOverride.tsx
  - client/src/components/PasskeyPrompt.tsx
  - client/src/components/VoiceRecorder.tsx
  - client/src/pages/Login.tsx
  - client/src/i18n/locales/en.json
  - client/src/i18n/locales/de.json
autonomous: true

must_haves:
  truths:
    - "AiTeamMember shows role label, configure button, form labels, and status text in German when language is DE"
    - "AiOverrideMenu shows panel title, form labels, placeholders, and buttons in German when language is DE"
    - "AiModelOverride shows title, description, table headers, task type labels, and saving indicator in German when language is DE"
    - "PasskeyPrompt shows prompt text, buttons, success/error messages in German when language is DE"
    - "VoiceRecorder shows button labels, processing state, hints, and divider text in German when language is DE"
    - "Login page shows all labels, buttons, tabs, error messages, and mode-switch text in German when language is DE"
  artifacts:
    - path: "client/src/components/AiTeamMember.tsx"
      provides: "i18n-enabled AI team member component"
      contains: "useLanguage"
    - path: "client/src/components/AiOverrideMenu.tsx"
      provides: "i18n-enabled AI override menu"
      contains: "useLanguage"
    - path: "client/src/components/AiModelOverride.tsx"
      provides: "i18n-enabled AI model override table"
      contains: "useLanguage"
    - path: "client/src/components/PasskeyPrompt.tsx"
      provides: "i18n-enabled passkey prompt"
      contains: "useLanguage"
    - path: "client/src/components/VoiceRecorder.tsx"
      provides: "i18n-enabled voice recorder"
      contains: "useLanguage"
    - path: "client/src/pages/Login.tsx"
      provides: "i18n-enabled login page"
      contains: "useLanguage"
    - path: "client/src/i18n/locales/en.json"
      provides: "English keys for ai, passkey, voiceRecorder, login namespaces"
    - path: "client/src/i18n/locales/de.json"
      provides: "German keys for ai, passkey, voiceRecorder, login namespaces"
  key_links:
    - from: "client/src/components/AiTeamMember.tsx"
      to: "en.json/de.json"
      via: "t() calls"
      pattern: "t\\(\"ai\\."
    - from: "client/src/pages/Login.tsx"
      to: "en.json/de.json"
      via: "t() calls"
      pattern: "t\\(\"login\\."
---

<objective>
Internationalize AI components (AiTeamMember, AiOverrideMenu, AiModelOverride), authentication components (PasskeyPrompt, Login), and VoiceRecorder.

Purpose: These six components cover requirements I18N-07 (AI components) and I18N-08 (PasskeyPrompt, VoiceRecorder, Login). Together they account for ~74 new translation keys, completing i18n for all AI and auth user flows.

Output: Six components fully i18n-enabled + ~74 new keys in both en.json and de.json.
</objective>

<execution_context>
@/Users/developer/.claude/get-shit-done/workflows/execute-plan.md
@/Users/developer/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-client-i18n-coverage/10-01-SUMMARY.md
@client/src/hooks/useLanguage.ts
@client/src/i18n/locales/en.json
@client/src/i18n/locales/de.json
@client/src/components/AiTeamMember.tsx
@client/src/components/AiOverrideMenu.tsx
@client/src/components/AiModelOverride.tsx
@client/src/components/PasskeyPrompt.tsx
@client/src/components/VoiceRecorder.tsx
@client/src/pages/Login.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add translation keys for AI, PasskeyPrompt, VoiceRecorder, and Login to both locale files</name>
  <files>client/src/i18n/locales/en.json, client/src/i18n/locales/de.json</files>
  <action>
Add four new top-level namespaces to both en.json and de.json. Both files must be updated in the same commit.

**en.json — add `"ai"` namespace:**
```json
"ai": {
  "team_member": "AI Team Member",
  "loading": "Loading AI member...",
  "configure": "Configure",
  "character_label": "Character:",
  "name_label": "Name",
  "character_field": "Character",
  "language_label": "Language",
  "language_en": "English",
  "language_de": "Deutsch",
  "save": "Save",
  "saving": "Saving...",
  "cancel": "Cancel",
  "save_error": "Failed to save configuration",
  "override_title": "Override AI Decision",
  "override_reason_label": "Reason for Override *",
  "override_reason_placeholder": "Why are you overriding this AI decision?",
  "override_new_decision_label": "New Decision *",
  "override_new_decision_placeholder": "What should happen instead?",
  "override_submit": "Override Decision",
  "override_submitting": "Submitting...",
  "override_error": "Failed to override decision",
  "model_overrides_title": "AI Model Overrides",
  "model_overrides_desc": "Override the default AI model for each task type. Changes take effect on the next AI invocation.",
  "model_override_error": "Failed to override model",
  "table_task_type": "Task Type",
  "table_current_model": "Current Model",
  "table_override": "Override",
  "task_notification": "Notifications",
  "task_reflection": "Reflections",
  "task_mediation": "Mediation",
  "task_pattern_match": "Pattern Matching",
  "task_summary": "Summaries",
  "task_catch_logic": "Catch Logic",
  "model_anthropic_fast": "Anthropic (Fast)",
  "model_anthropic_balanced": "Anthropic (Balanced)",
  "model_openai_fast": "OpenAI (Fast)",
  "model_openai_balanced": "OpenAI (Balanced)"
}
```

**en.json — add `"passkey"` namespace:**
```json
"passkey": {
  "prompt_text": "Secure your account with a passkey? Passkeys let you sign in quickly using your fingerprint, face, or device PIN.",
  "add_button": "Add Passkey",
  "setting_up": "Setting up...",
  "skip": "Skip",
  "success": "Passkey registered successfully!",
  "redirecting": "Redirecting...",
  "error": "Failed to register passkey. You can try again later."
}
```

**en.json — add `"voiceRecorder"` namespace:**
```json
"voiceRecorder": {
  "start_recording": "Start recording",
  "stop_recording": "Stop recording",
  "processing": "Processing...",
  "recorded_duration": "Recorded {{duration}}",
  "transcribe": "Transcribe",
  "discard": "Discard",
  "divider_or": "or",
  "text_placeholder": "Or type your idea...",
  "hint_submit": "Cmd+Enter to submit",
  "submit": "Submit"
}
```

**en.json — add `"login"` namespace:**
```json
"login": {
  "welcome": "Welcome to Eluma",
  "first_account_subtitle": "Create your first account to get started.",
  "sign_in_title": "Sign in to Eluma",
  "tab_password": "Password",
  "tab_passkey": "Passkey",
  "username": "Username",
  "display_name": "Display Name",
  "password": "Password",
  "confirm_password": "Confirm Password",
  "create_account": "Create Account",
  "creating_account": "Creating account...",
  "sign_in": "Sign In",
  "signing_in": "Signing in...",
  "sign_in_passkey": "Sign in with Passkey",
  "authenticating": "Authenticating...",
  "passwords_no_match": "Passwords do not match",
  "webauthn_unsupported": "Your browser does not support WebAuthn passkeys. Please use password login instead.",
  "already_have_account": "Already have an account?",
  "sign_in_link": "Sign in",
  "need_account": "Need an account?",
  "create_one_link": "Create one"
}
```

**de.json — add `"ai"` namespace:**
```json
"ai": {
  "team_member": "KI-Teammitglied",
  "loading": "KI-Mitglied wird geladen...",
  "configure": "Konfigurieren",
  "character_label": "Charakter:",
  "name_label": "Name",
  "character_field": "Charakter",
  "language_label": "Sprache",
  "language_en": "English",
  "language_de": "Deutsch",
  "save": "Speichern",
  "saving": "Wird gespeichert...",
  "cancel": "Abbrechen",
  "save_error": "Konfiguration konnte nicht gespeichert werden",
  "override_title": "KI-Entscheidung überschreiben",
  "override_reason_label": "Grund für Überschreibung *",
  "override_reason_placeholder": "Warum überschreiben Sie diese KI-Entscheidung?",
  "override_new_decision_label": "Neue Entscheidung *",
  "override_new_decision_placeholder": "Was soll stattdessen geschehen?",
  "override_submit": "Entscheidung überschreiben",
  "override_submitting": "Wird gesendet...",
  "override_error": "Entscheidung konnte nicht überschrieben werden",
  "model_overrides_title": "KI-Modell-Überschreibungen",
  "model_overrides_desc": "Überschreiben Sie das Standard-KI-Modell für jeden Aufgabentyp. Änderungen werden beim nächsten KI-Aufruf wirksam.",
  "model_override_error": "Modell konnte nicht überschrieben werden",
  "table_task_type": "Aufgabentyp",
  "table_current_model": "Aktuelles Modell",
  "table_override": "Überschreibung",
  "task_notification": "Benachrichtigungen",
  "task_reflection": "Reflexionen",
  "task_mediation": "Mediation",
  "task_pattern_match": "Mustererkennung",
  "task_summary": "Zusammenfassungen",
  "task_catch_logic": "Fanglogik",
  "model_anthropic_fast": "Anthropic (Schnell)",
  "model_anthropic_balanced": "Anthropic (Ausgewogen)",
  "model_openai_fast": "OpenAI (Schnell)",
  "model_openai_balanced": "OpenAI (Ausgewogen)"
}
```

**de.json — add `"passkey"` namespace:**
```json
"passkey": {
  "prompt_text": "Konto mit Passkey sichern? Passkeys ermöglichen eine schnelle Anmeldung per Fingerabdruck, Gesichtserkennung oder Geräte-PIN.",
  "add_button": "Passkey hinzufügen",
  "setting_up": "Wird eingerichtet...",
  "skip": "Überspringen",
  "success": "Passkey erfolgreich registriert!",
  "redirecting": "Weiterleitung...",
  "error": "Passkey konnte nicht registriert werden. Versuchen Sie es später erneut."
}
```

**de.json — add `"voiceRecorder"` namespace:**
```json
"voiceRecorder": {
  "start_recording": "Aufnahme starten",
  "stop_recording": "Aufnahme stoppen",
  "processing": "Verarbeitung...",
  "recorded_duration": "Aufgenommen {{duration}}",
  "transcribe": "Transkribieren",
  "discard": "Verwerfen",
  "divider_or": "oder",
  "text_placeholder": "Oder Idee eintippen...",
  "hint_submit": "Cmd+Enter zum Absenden",
  "submit": "Absenden"
}
```

**de.json — add `"login"` namespace:**
```json
"login": {
  "welcome": "Willkommen bei Eluma",
  "first_account_subtitle": "Erstellen Sie Ihr erstes Konto, um loszulegen.",
  "sign_in_title": "Bei Eluma anmelden",
  "tab_password": "Passwort",
  "tab_passkey": "Passkey",
  "username": "Benutzername",
  "display_name": "Anzeigename",
  "password": "Passwort",
  "confirm_password": "Passwort bestätigen",
  "create_account": "Konto erstellen",
  "creating_account": "Konto wird erstellt...",
  "sign_in": "Anmelden",
  "signing_in": "Anmeldung läuft...",
  "sign_in_passkey": "Mit Passkey anmelden",
  "authenticating": "Authentifizierung...",
  "passwords_no_match": "Passwörter stimmen nicht überein",
  "webauthn_unsupported": "Ihr Browser unterstützt keine WebAuthn-Passkeys. Bitte verwenden Sie die Passwort-Anmeldung.",
  "already_have_account": "Bereits ein Konto?",
  "sign_in_link": "Anmelden",
  "need_account": "Kein Konto?",
  "create_one_link": "Konto erstellen"
}
```

IMPORTANT: German text must use proper Unicode umlauts. Translate full phrases, never concatenate.
  </action>
  <verify>Run `node -e "const en = require('./client/src/i18n/locales/en.json'); const de = require('./client/src/i18n/locales/de.json'); ['ai','passkey','voiceRecorder','login'].forEach(ns => console.log(ns, Object.keys(en[ns]).length, Object.keys(de[ns]).length));"` from eluma root — all four namespaces exist with matching key counts.</verify>
  <done>en.json and de.json each contain ai (~37 keys), passkey (~7 keys), voiceRecorder (~10 keys), and login (~20 keys) namespaces with matching key counts and proper German Unicode.</done>
</task>

<task type="auto">
  <name>Task 2: Wire useLanguage into all six components</name>
  <files>client/src/components/AiTeamMember.tsx, client/src/components/AiOverrideMenu.tsx, client/src/components/AiModelOverride.tsx, client/src/components/PasskeyPrompt.tsx, client/src/components/VoiceRecorder.tsx, client/src/pages/Login.tsx</files>
  <action>
For each component, add `import { useLanguage } from "../hooks/useLanguage.js";` (or `"../../hooks/useLanguage.js"` for pages), add `const { t } = useLanguage();` at top of component body, and replace all hardcoded English strings with `t()` calls.

**AiTeamMember.tsx:**
- `"Loading AI member..."` -> `t("ai.loading")`
- `"AI Team Member"` -> `t("ai.team_member")`
- `"Configure"` -> `t("ai.configure")`
- `"Character:"` -> `t("ai.character_label")`
- `"Name"` label -> `t("ai.name_label")`
- `"Character"` label -> `t("ai.character_field")`
- `"Language"` label -> `t("ai.language_label")`
- `"English"` option -> `t("ai.language_en")`
- `"Deutsch"` option -> `t("ai.language_de")`
- `"Saving..."` -> `t("ai.saving")`
- `"Save"` -> `t("ai.save")`
- `"Cancel"` -> `t("ai.cancel")`
- `"Failed to save configuration"` -> `t("ai.save_error")`

**AiOverrideMenu.tsx:**
- `"Override AI Decision"` -> `t("ai.override_title")`
- `"Reason for Override *"` -> `t("ai.override_reason_label")`
- `"Why are you overriding this AI decision?"` -> `t("ai.override_reason_placeholder")`
- `"New Decision *"` -> `t("ai.override_new_decision_label")`
- `"What should happen instead?"` -> `t("ai.override_new_decision_placeholder")`
- `"Submitting..."` -> `t("ai.override_submitting")`
- `"Override Decision"` -> `t("ai.override_submit")`
- `"Cancel"` -> `t("ai.cancel")`
- `"Failed to override decision"` -> `t("ai.override_error")`

**AiModelOverride.tsx:**
- `"AI Model Overrides"` -> `t("ai.model_overrides_title")`
- `"Override the default AI model..."` -> `t("ai.model_overrides_desc")`
- `"Failed to override model"` -> `t("ai.model_override_error")`
- `"Task Type"` th -> `t("ai.table_task_type")`
- `"Current Model"` th -> `t("ai.table_current_model")`
- `"Override"` th -> `t("ai.table_override")`
- `"Saving..."` -> `t("ai.saving")`
- Module-level `TASK_TYPES` array has hardcoded label strings. Move the labels into the component body using a mapping: `const taskLabels: Record<string, string> = { notification: t("ai.task_notification"), reflection: t("ai.task_reflection"), mediation: t("ai.task_mediation"), pattern_match: t("ai.task_pattern_match"), summary: t("ai.task_summary"), catch_logic: t("ai.task_catch_logic") };` Use `taskLabels[task.id]` instead of `task.label`.
- Similarly, module-level `AVAILABLE_MODELS` has hardcoded labels. Build a label map inside the component: `const modelLabels: Record<string, string> = { "anthropic:fast": t("ai.model_anthropic_fast"), "anthropic:balanced": t("ai.model_anthropic_balanced"), "openai:fast": t("ai.model_openai_fast"), "openai:balanced": t("ai.model_openai_balanced") };`

**PasskeyPrompt.tsx:**
- `"Secure your account with a passkey?..."` -> `t("passkey.prompt_text")`
- `"Setting up..."` -> `t("passkey.setting_up")`
- `"Add Passkey"` -> `t("passkey.add_button")`
- `"Skip"` -> `t("passkey.skip")`
- `"Passkey registered successfully!"` -> `t("passkey.success")`
- `"Redirecting..."` -> `t("passkey.redirecting")`
- `"Failed to register passkey..."` -> `t("passkey.error")`

**VoiceRecorder.tsx:**
- aria-label `"Stop recording"` / `"Start recording"` -> `t("voiceRecorder.stop_recording")` / `t("voiceRecorder.start_recording")`
- `"Processing..."` -> `t("voiceRecorder.processing")`
- `"Recorded ..."` -> `t("voiceRecorder.recorded_duration", { duration: formatDuration(duration) })`
- `"Transcribe"` -> `t("voiceRecorder.transcribe")`
- `"Discard"` -> `t("voiceRecorder.discard")`
- `"or"` divider text -> `t("voiceRecorder.divider_or")`
- `"Or type your idea..."` -> `t("voiceRecorder.text_placeholder")`
- `"Cmd+Enter to submit"` -> `t("voiceRecorder.hint_submit")`
- `"Submit"` -> `t("voiceRecorder.submit")`

**Login.tsx:**
- `"Loading..."` -> `t("common.loading")`
- `"Welcome to Eluma"` -> `t("login.welcome")`
- `"Create your first account to get started."` -> `t("login.first_account_subtitle")`
- `"Sign in to Eluma"` -> `t("login.sign_in_title")`
- `"Password"` tab -> `t("login.tab_password")`
- `"Passkey"` tab -> `t("login.tab_passkey")`
- `"Username"` label -> `t("login.username")`
- `"Display Name"` label -> `t("login.display_name")`
- `"Password"` label -> `t("login.password")`
- `"Confirm Password"` label -> `t("login.confirm_password")`
- `"Creating account..."` / `"Create Account"` -> `t("login.creating_account")` / `t("login.create_account")`
- `"Signing in..."` / `"Sign In"` -> `t("login.signing_in")` / `t("login.sign_in")`
- `"Authenticating..."` / `"Sign in with Passkey"` -> `t("login.authenticating")` / `t("login.sign_in_passkey")`
- `"Passwords do not match"` -> `t("login.passwords_no_match")`
- `"Your browser does not support WebAuthn..."` -> `t("login.webauthn_unsupported")`
- `"Already have an account?"` -> `t("login.already_have_account")`
- `"Sign in"` link -> `t("login.sign_in_link")`
- `"Need an account?"` -> `t("login.need_account")`
- `"Create one"` link -> `t("login.create_one_link")`

IMPORTANT: Do NOT change any styling, logic, or component structure. Only replace string literals with t() calls and add the import + hook call.
  </action>
  <verify>Run `cd /Users/developer/eluma && npx tsc --noEmit` — no TypeScript errors. Then `grep -c "useLanguage" client/src/components/AiTeamMember.tsx client/src/components/AiOverrideMenu.tsx client/src/components/AiModelOverride.tsx client/src/components/PasskeyPrompt.tsx client/src/components/VoiceRecorder.tsx client/src/pages/Login.tsx` — each file shows at least 1 match.</verify>
  <done>All six components import useLanguage, call t() for every user-facing string, and compile without errors. No hardcoded English UI text remains in any of the six files.</done>
</task>

</tasks>

<verification>
1. `cd /Users/developer/eluma && npx tsc --noEmit` passes with no errors
2. Both en.json and de.json parse as valid JSON
3. All six components contain `useLanguage` import and `t()` calls
4. German translations use proper Unicode umlauts throughout
5. No hardcoded English UI strings in any of the six component files
</verification>

<success_criteria>
- All six components show text in German when language is DE, English when EN
- No hardcoded English strings remain in any of the six component files
- Both en.json and de.json are valid JSON with matching key structure across all new namespaces
- TypeScript compilation passes
</success_criteria>

<output>
After completion, create `.planning/phases/10-client-i18n-coverage/10-02-SUMMARY.md`
</output>
